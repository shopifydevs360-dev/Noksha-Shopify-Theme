{% render 'section-base-style' %}

{% liquid
  assign ss = section.settings

  assign first_class = 'sitemap-section ' | append: 'm-color-' | append: ss.color_scheme 
  assign first_class = first_class | append: ' ' | append: ss.color_control
  assign first_class = first_class | append: ' ' | append: ss.custom_class
  assign first_class = first_class | append: ' ' | append: 'section-' | append: section.id | append: '-padding'
%}

<div class="{{ first_class }}">
  <div class="{{ ss.container_width }}">

    {% render 'hero-info',
      heading: ss.heading,
      description: ss.description,
      heading_tag: 'h1',
      heading_size: ss.heading_size,
      text_align: ss.text_align,
      container_width: ss.container_width
    %}

    <div class="sitemap-grid d-flex flex-column flex-row-lg">

      {% if ss.show_pages %}
      <div class="sitemap-column flex-grow">
        <h3>Pages</h3>
        <ul>
          {% for page in pages %}
            <li><a href="{{ page.url }}">{{ page.title }}</a></li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}

      {% if ss.show_collections %}
      <div class="sitemap-column flex-grow">
        <h3>Collections</h3>
        <ul>
          {% for collection in collections %}
            <li><a href="{{ collection.url }}">{{ collection.title }}</a></li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}

      {% if ss.show_products %}
      <div class="sitemap-column flex-grow">
        <h3>Products</h3>
        <ul>
          {% paginate collections.all.products by 1000 %}
            {% for product in collections.all.products %}
              <li><a href="{{ product.url }}">{{ product.title }}</a></li>
            {% endfor %}
          {% endpaginate %}
        </ul>
      </div>
      {% endif %}

      {% if ss.show_blogs %}
      <div class="sitemap-column flex-grow">
        <h3>Blogs</h3>
        <ul>
          {% for blog in blogs %}
            <li><a href="{{ blog.url }}">{{ blog.title }}</a></li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}

    </div>

  </div>
</div>

{% stylesheet %}
.sitemap-section .sitemap-grid {
  gap: 40px;
  margin-top: 40px;
}

.sitemap-section .sitemap-column h3 {
  margin-bottom: 15px;
}

.sitemap-section .sitemap-column ul {
  list-style: none;
  padding: 0;
}

.sitemap-section .sitemap-column li {
  margin-bottom: 8px;
}

.sitemap-section .sitemap-column a {
  text-decoration: none;
}
{% endstylesheet %}

{% schema %}
{
  "name": "Sitemap Page",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Sitemap"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading Size",
      "options": [
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" }
      ],
      "default": "h1"
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "Text Align",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ],
      "default": "center"
    },
    {
      "type": "checkbox",
      "id": "show_pages",
      "label": "Show Pages",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_collections",
      "label": "Show Collections",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_products",
      "label": "Show Products",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_blogs",
      "label": "Show Blogs",
      "default": true
    },
    {
      "type": "select",
      "id": "container_width",
      "label": "Container Width",
      "options": [
        { "value": "container", "label": "Container" },
        { "value": "extended", "label": "Extended" }
      ],
      "default": "container"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme"
    },
    {
      "type": "select",
      "id": "color_control",
      "label": "Color Control",
      "options": [
        { "value": "section-light", "label": "Light" },
        { "value": "section-dark", "label": "Dark" }
      ],
      "default": "section-light"
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom Class"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Top Padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Bottom Padding",
      "default": 60
    }
  ],
  "presets": [
    {
      "name": "Sitemap Page"
    }
  ]
}
{% endschema %}
