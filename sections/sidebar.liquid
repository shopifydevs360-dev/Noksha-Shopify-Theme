{{ 'sidebar.css' | asset_url | stylesheet_tag: preload: true }}
<div class="navigation">
  <!--============================
        Sidebar Panel
  =============================-->
  <div id="js-sidebar" class="m-sidebar hide-tablet hide-mobile hide-tablet-landscape expended m-color-{{ section.settings.sidebar_color_scheme }}">
    <div id="area-expended" class="m-sidebar__content">

      <!-- Logo -->
      <div class="m-sidebar__logo">
          {% render 'logo' %}
      </div>
      <!--   HAMBURGER   -->
        <button type="button" class="hamburger color-control" aria-label="Open nav menu" data-trigger-section="nav-drawer">
            <div>
              <span></span>
              <span></span>
              <span></span>
            </div>
        </button>
      <!-- Navigation -->
      <nav class="m-sidebar__nav">
        {% for block in section.blocks %}
        {% case block.type %}
        {% when 'search_drawer' %}
        <!-- Search -->
        <a href="#" class="js-open-section nav-icon-text-wrap color-control"
            data-trigger-section="search-drawer" aria-label="Site search">
            <span class="js-open-icon-text" data-open-item="search-drawer-open-item">
                <span class="icon">
                    <!-- icon search -->
                  {%- render 'theme-icon', icon: 'search' -%}
                </span>
                <strong class="text">Search</strong>
            </span>
            <span class="js-close-icon-text hide" data-close-item="search-drawer-close-item">
                <strong class="text">Close</strong>
            </span>
        </a>
        {% when 'account_drawer' %}
        <!-- ACCOUNT LINKS -->
        <a href="#" class="js-open-section nav-icon-text-wrap color-control"
            data-trigger-section="account-drawer" aria-label="Site account">
            <span class="js-open-icon-text" data-open-item="account-drawer-open-item">
                <span class="icon">
                    <!-- icon account -->
                  {%- render 'theme-icon', icon: 'account' -%}
                </span>
                <strong class="text">Account</strong>
            </span>
            <span class="js-close-icon-text hide" data-close-item="account-drawer-close-item">
                <strong class="text">Close</strong>
            </span>
        </a>
        {% when 'bag_drawer' %}
        <!-- Bag -->
        <a href="#" class="js-open-section nav-icon-text-wrap color-control"
            data-trigger-section="bag-drawer" aria-label="Site bag">
            <span class="js-open-icon-text" data-open-item="bag-drawer-open-item">
                <span class="icon">
                    <!-- icon bag -->
                  {%- render 'theme-icon', icon: 'bag' -%}
                  <span class="cart-count cart-count-icon">{{ cart.item_count }}</span>
                </span>
                <strong class="text">Bag (<span class="cart-count">{{ cart.item_count }}</span>)</strong>
            </span>
            <span class="js-close-icon-text hide" data-close-item="bag-drawer-close-item">
                <strong class="text">Close</strong>
            </span>
        </a>
        {% endcase %}
        {% endfor %}
      </nav>


    </div>
  </div>
  <!--============================
            Mobile Header
  =============================-->
  <div class="m-mobile-header hide-desktop hide-large-screens">
    <div class="m-mobile-header__content">

      <!-- Logo -->
      <div class="m-mobile-header__logo">
          {% render 'logo' %}
      </div>
      <!-- Navigation -->
      <nav class="m-mobile-header__nav">
        <!-- Search -->
        {% for block in section.blocks %}
        {% case block.type %}
        {% when 'search_drawer' %}
        <a href="#" class="js-open-section nav-icon-text-wrap color-control"
            data-trigger-section="search-drawer" aria-label="Site search">
            <span class="js-open-icon-text" data-open-item="search-drawer-open-item">
                <span class="icon">
                    <!-- icon search -->
                  {%- render 'theme-icon', icon: 'search' -%}
                </span>
            </span>
            <span class="js-close-icon-text hide" data-close-item="search-drawer-close-item">
              {%- render 'theme-icon', icon: 'close' -%}
            </span>
        </a>
        {% when 'account_drawer' %}
        <!-- ACCOUNT LINKS -->
        <a href="#" class="js-open-section nav-icon-text-wrap color-control"
            data-trigger-section="account-drawer" aria-label="Site account">
            <span class="js-open-icon-text" data-open-item="account-drawer-open-item">
                <span class="icon">
                    <!-- icon account -->
                  {%- render 'theme-icon', icon: 'account' -%}
                </span>
            </span>
            <span class="js-close-icon-text hide" data-close-item="account-drawer-close-item">
              {%- render 'theme-icon', icon: 'close' -%}
            </span>
        </a>
        {% when 'bag_drawer' %}
        <!-- Bag -->
        <a href="#" class="js-open-section nav-icon-text-wrap color-control"
            data-trigger-section="bag-drawer" aria-label="Site bag">
            <span class="js-open-icon-text" data-open-item="bag-drawer-open-item">
                <span class="icon">
                    <!-- icon bag -->
                  {%- render 'theme-icon', icon: 'bag' -%}
                  <span class="cart-count cart-count-icon">{{ cart.item_count }}</span>
                </span>
            </span>
            <span class="js-close-icon-text hide" data-close-item="bag-drawer-close-item">
              {%- render 'theme-icon', icon: 'close' -%}
            </span>
        </a>
        {% endcase %}
        {% endfor %}
      </nav>
      <!--   HAMBURGER   -->
      <button type="button" class="hamburger color-control" aria-label="Open nav menu" data-trigger-section="nav-drawer">
          <div>
            <span></span>
            <span></span>
            <span></span>
          </div>
      </button>
    </div>
  </div>
</div>
<div id="js-open-overlay" class="sidebar-overlay hide"></div>
{% render 'nav-drawer' %}
{% for block in section.blocks %}
  {% case block.type %}
    {% when 'search_drawer' %}
      {% render 'search-drawer' %}
    {% when 'account_drawer' %}
      {% render 'account-drawer' %}
    {% when 'bag_drawer' %}
      {% render 'bag-drawer' %}
  {% endcase %}
{% endfor %}
<script src="{{ 'sidebar.js' | asset_url }}" defer="defer"></script>

{% schema %}
{
  "name": "Sidebar",
  "limit": 1,
  "enabled_on": { "groups": ["header"] },
  "settings": [
    {
      "type": "image_picker",
      "id": "white_logo",
      "label": "White Logo",
      "info": "White logo will be control color with dark & light"
    },
    {
      "type": "color_scheme",
      "id": "sidebar_color_scheme",
      "label": "Color scheme",
      "default": "background-1"
    },
    {
      "type": "text",
      "id": "brand_text",
      "label": "Brand text",
      "default": "Noksha"
    }
  ],
  "blocks": [
    {
      "type": "search_drawer",
      "name": "Search Drawer",
      "limit": 1,
      "settings": [

      ]
    },
    {
      "type": "account_drawer",
      "name": "Account Drawer",
      "limit": 1,
      "settings": [

      ]
    },
    {
      "type": "bag_drawer",
      "name": "Bag Drawer",
      "limit": 1,
      "settings": [

      ]
    }
  ],
  "presets": [
    { "name": "Sidebar" }
  ]
}
{% endschema %}
