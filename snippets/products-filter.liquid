<aside class="collection-filters" id="CollectionFilters">

  {% for block in section.blocks %}
    {% case block.type %}

      {% when 'availability' %}
        <fieldset>
          <legend>Availability</legend>
          <label><input type="checkbox" data-filter="filter.v.availability" value="1"> In stock</label>
        </fieldset>

      {% when 'vendor' %}
        <fieldset>
          <legend>Brand</legend>
          {% for vendor in collection.all_vendors %}
            <label>
              <input type="checkbox" data-filter="filter.p.vendor" value="{{ vendor }}">
              {{ vendor }}
            </label>
          {% endfor %}
        </fieldset>

      {% when 'collection' %}
        <fieldset>
          <legend>Collections</legend>
          {% for c in collections %}
            <label>
              <input type="checkbox" data-filter="filter.p.collection" value="{{ c.handle }}">
              {{ c.title }}
            </label>
          {% endfor %}
        </fieldset>

      {% when 'color' %}
        <fieldset>
          <legend>Color</legend>
          {% assign colors = 'black,white,red,blue,green' | split: ',' %}
          {% for color in colors %}
            <label>
              <input type="checkbox" data-filter="filter.p.tag" value="{{ color }}">
              {{ color | capitalize }}
            </label>
          {% endfor %}
        </fieldset>

      {% when 'tag' %}
        <fieldset>
          <legend>Tags</legend>
          {% assign tags = block.settings.tags | split: ',' %}
          {% for tag in tags %}
            <label>
              <input type="checkbox" data-filter="filter.p.tag" value="{{ tag | strip }}">
              {{ tag | strip }}
            </label>
          {% endfor %}
        </fieldset>

    {% endcase %}
  {% endfor %}

</aside>
