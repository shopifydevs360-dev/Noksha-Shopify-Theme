{% doc %}
  Renders a responsive Shopify-hosted video that might be wrapped in a link,
  similar to the `image` snippet you provided.

  This snippet expects a Shopify media object (for example, a `video` picked
  from a block/section setting or `product.media[0]`). It uses `media_tag`
  to output the video element.

  @param {object} media - A Shopify media object of type `video`.
  @param {string} [link_url] - An optional destination URL for the wrapper link.
  @param {string} [wrapper_class] - Optional class to be added to the video wrapper.
  @param {number} [max_width] - The maximum width of the video to be rendered.
  @param {number} [max_height] - The maximum height of the video to be rendered (used for layout only).
  @param {string} [wrapper_style] - Custom inline style for the wrapper.

  @example
  {% render 'video', media: product.media[0] %}
  {% render 'video', media: product.media[0], link_url: product.url %}
  {% render 'video',
    wrapper_class: 'product__video {{ section.settings.video_wrapper_class }}',
    media: product.media[0],
    link_url: product.url,
    max_width: 1200,
    max_height: 800
  %}
{% enddoc %}

{% liquid
  unless max_height
    assign max_width = max_width | default: media.width
  endunless

  if link_url
    assign wrapper_tag = 'a'
  else
    assign wrapper_tag = 'div'
  endif

  assign wrapper_style_value = wrapper_style | default: ''
%}

<{{ wrapper_tag }}
  class="video-wrapper {{ wrapper_class }}"
  {% if link_url %}
    href="{{ link_url }}"
  {% endif %}
  {% if wrapper_style_value != blank %}
    style="{{ wrapper_style_value }}"
  {% endif %}
>
  {{ media
    | media_tag:
      image_size: max_width,
      controls: true,
      playsinline: true
  }}
</{{ wrapper_tag }}>

{% stylesheet %}
  .video-wrapper {
    position: relative;
    display: block;
    width: 100%;
    height: auto;
    overflow: hidden;
  }

  .video-wrapper video,
  .video-wrapper iframe {
    width: 100%;
    height: auto;
    display: block;
  }
{% endstylesheet %}